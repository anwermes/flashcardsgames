<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English For Grade 5-9 | Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --bg-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --bg-secondary: #f5f7fa;
      --card-bg: white;
      --text-primary: #333;
      --text-secondary: #666;
      --border-color: #eee;
      --shadow: 0 15px 35px rgba(0,0,0,0.1);
    }
    [data-theme="dark"] {
      --bg-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      --bg-secondary: #0f0f1a;
      --card-bg: #1e1e2f;
      --text-primary: #e0e0e0;
      --text-secondary: #a0a0a0;
      --border-color: #333;
      --shadow: 0 15px 35px rgba(0,0,0,0.4);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Cairo', sans-serif; background: var(--bg-secondary); min-height: 100vh; color: var(--text-primary); display: flex; flex-direction: column; transition: all 0.5s ease; }
    
    .main-header { background: var(--bg-primary); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 20px rgba(0,0,0,0.2); position: relative; overflow: hidden; }
    .main-header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%); animation: headerShine 10s linear infinite; }
    @keyframes headerShine { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .header-controls { display: flex; align-items: center; gap: 15px; z-index: 1; }
    .theme-toggle { width: 60px; height: 30px; background: rgba(255,255,255,0.2); border-radius: 15px; cursor: pointer; position: relative; transition: 0.3s; border: 2px solid rgba(255,255,255,0.3); }
    .theme-toggle::before { content: 'â˜€ï¸'; position: absolute; left: 5px; top: 50%; transform: translateY(-50%); font-size: 0.9rem; transition: 0.3s; }
    [data-theme="dark"] .theme-toggle::before { content: 'ğŸŒ™'; left: 30px; }
    .theme-toggle::after { content: ''; position: absolute; width: 22px; height: 22px; background: white; border-radius: 50%; top: 2px; left: 2px; transition: 0.3s; }
    [data-theme="dark"] .theme-toggle::after { left: 34px; background: #333; }
    .user-profile { display: none; align-items: center; gap: 15px; background: rgba(255,255,255,0.15); padding: 8px 20px; border-radius: 50px; backdrop-filter: blur(10px); z-index: 1; }
    .logout-btn { background: linear-gradient(135deg, #ff6b6b, #ee5a5a); color: white; border: none; padding: 8px 18px; border-radius: 25px; cursor: pointer; font-weight: bold; font-family: inherit; transition: all 0.3s; }
    .logout-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(255,107,107,0.4); }

    .nav-container { display: flex; justify-content: center; gap: 15px; padding: 25px; flex-wrap: wrap; }
    .nav-btn { padding: 15px 35px; border: none; border-radius: 20px; cursor: pointer; font-weight: bold; font-family: inherit; font-size: 1.1rem; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative; overflow: hidden; opacity: 0; animation: staggerIn 0.6s forwards; }
    .nav-btn:nth-child(1) { animation-delay: 0.1s; background: linear-gradient(135deg, #FF6B6B, #FF8E8E); color: white; }
    .nav-btn:nth-child(2) { animation-delay: 0.2s; background: linear-gradient(135deg, #4ECDC4, #44A08D); color: white; }
    .nav-btn:nth-child(3) { animation-delay: 0.3s; background: linear-gradient(135deg, #A66CFF, #9C55FF); color: white; }
    .nav-btn:nth-child(4) { animation-delay: 0.4s; background: linear-gradient(135deg, #FFD93D, #FF9500); color: #333; }
    @keyframes staggerIn { from { opacity: 0; transform: translateY(30px) scale(0.8); } to { opacity: 1; transform: translateY(0) scale(1); } }
    .nav-btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: 0.5s; }
    .nav-btn:hover::before { left: 100%; }
    .nav-btn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 30px rgba(0,0,0,0.2); }
    .nav-btn.active { transform: scale(1.1); box-shadow: 0 10px 40px rgba(0,0,0,0.3); }

    .section { display: none; padding: 20px; max-width: 1200px; margin: 0 auto; flex: 1; animation: fadeIn 0.5s ease; }
    .section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .card-box { background: var(--card-bg); padding: 2.5rem; border-radius: 30px; box-shadow: var(--shadow); text-align: center; position: relative; overflow: hidden; transition: all 0.3s; }
    
    input, select, textarea { width: 100%; padding: 15px; margin: 10px 0; border: 2px solid var(--border-color); border-radius: 15px; font-family: inherit; text-align: center; font-size: 1rem; background: var(--card-bg); color: var(--text-primary); transition: all 0.3s; }
    input:focus, select:focus, textarea:focus { border-color: #667eea; outline: none; box-shadow: 0 0 20px rgba(102, 126, 234, 0.2); }
    .btn-primary { width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 15px; font-weight: bold; cursor: pointer; margin-top: 15px; font-family: inherit; font-size: 1.1rem; transition: all 0.4s; position: relative; overflow: hidden; }
    .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5); }
    .btn-success { background: linear-gradient(135deg, #4CAF50, #45a049); }
    .btn-danger { background: linear-gradient(135deg, #ff6b6b, #ee5a5a); }
    .btn-warning { background: linear-gradient(135deg, #FFD93D, #FF9500); color: #333; }
    .btn-info { background: linear-gradient(135deg, #4ECDC4, #44A08D); }

    .games-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 20px; }
    .game-item { background: var(--card-bg); padding: 25px 15px; border-radius: 25px; text-align: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: var(--shadow); border: 3px solid transparent; position: relative; overflow: hidden; opacity: 0; animation: gameCardIn 0.5s forwards; }
    .game-item:nth-child(1) { animation-delay: 0.1s; }
    .game-item:nth-child(2) { animation-delay: 0.15s; }
    .game-item:nth-child(3) { animation-delay: 0.2s; }
    .game-item:nth-child(4) { animation-delay: 0.25s; }
    .game-item:nth-child(5) { animation-delay: 0.3s; }
    .game-item:nth-child(6) { animation-delay: 0.35s; }
    .game-item:nth-child(7) { animation-delay: 0.4s; }
    .game-item:nth-child(8) { animation-delay: 0.45s; }
    @keyframes gameCardIn { from { opacity: 0; transform: scale(0.5) rotate(-10deg); } to { opacity: 1; transform: scale(1) rotate(0deg); } }
    .game-item:hover { transform: translateY(-15px) scale(1.05); border-color: #667eea; box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3); }
    .game-item .icon { font-size: 3.5rem; margin-bottom: 10px; display: block; transition: 0.3s; }
    .game-item:hover .icon { transform: scale(1.2) rotate(10deg); }
    @media (max-width: 900px) { .games-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 500px) { .games-grid { grid-template-columns: 1fr; } }

    .option-btn { width: 100%; padding: 18px; margin: 8px 0; border: 3px solid var(--border-color); background: var(--card-bg); border-radius: 15px; cursor: pointer; font-size: 1.1rem; transition: all 0.3s; font-family: inherit; color: var(--text-primary); }
    .option-btn:hover { border-color: #667eea; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); transform: translateX(-5px); }
    .option-btn.correct { background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border-color: #4CAF50; box-shadow: 0 0 30px rgba(76, 175, 80, 0.6); animation: glowPulse 1s; }
    @keyframes glowPulse { 0%, 100% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.4); } 50% { box-shadow: 0 0 50px rgba(76, 175, 80, 0.8); } }
    .option-btn.wrong { background: linear-gradient(135deg, #f44336, #d32f2f); color: white; border-color: #f44336; animation: shake 0.5s; }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-15px); } 75% { transform: translateX(15px); } }

    .flashcard-container { perspective: 1500px; width: 350px; height: 500px; margin: 0 auto 30px; cursor: pointer; }
    .flashcard-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); transform-style: preserve-3d; }
    .flashcard-inner.flipped { transform: rotateY(180deg); }
    .front, .back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.15); }
    .front { background: var(--card-bg); border: 3px solid var(--border-color); }
    .back { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; transform: rotateY(180deg); }
    .example-box { background: rgba(255,255,255,0.15); padding: 15px 20px; border-radius: 15px; margin-top: 15px; width: 100%; }

    .dashboard-tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
    .tab-btn { padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; font-family: inherit; font-weight: bold; background: var(--border-color); color: var(--text-secondary); transition: 0.3s; flex: 1 1 auto; min-width: 120px; }
    .tab-btn.active { background: #667eea; color: white; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    
    /* Responsive Table Styles */
    .table-container { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; margin-top: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .dashboard-table { width: 100%; border-collapse: collapse; min-width: 600px; white-space: nowrap; }
    .dashboard-table th { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px; text-align: right; white-space: nowrap; }
    .dashboard-table td { padding: 12px 15px; border-bottom: 1px solid var(--border-color); text-align: right; }
    .dashboard-table tr:last-child td { border-bottom: none; }
    .action-btn { padding: 6px 14px; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem; margin: 0 3px; transition: 0.3s; display: inline-block; }
    .action-btn.edit { background: #4ECDC4; color: white; }
    .action-btn.delete { background: #ff6b6b; color: white; }
    
    .message-card { background: var(--card-bg); border-radius: 15px; padding: 15px; margin: 10px 0; border-right: 4px solid #667eea; text-align: right; }
    .homework-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border-radius: 15px; padding: 20px; margin: 10px 0; border: 2px solid #667eea; }

    /* Footer */
    footer { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%); color: white; padding: 0; margin-top: auto; position: relative; overflow: hidden; }
    .footer-wave { position: absolute; top: 0; left: 0; width: 100%; height: 100px; background: var(--bg-secondary); clip-path: ellipse(70% 100% at 50% 0%); }
    .footer-stars { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; pointer-events: none; }
    .star { position: absolute; width: 3px; height: 3px; background: white; border-radius: 50%; animation: twinkle 2s infinite; }
    @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.5); } }
    .footer-content { position: relative; z-index: 1; padding: 80px 20px 30px; max-width: 1200px; margin: 0 auto; }
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 40px; }
    .footer-section { text-align: center; }
    .footer-section h3 { font-size: 1.3rem; margin-bottom: 20px; color: #a78bfa; display: flex; align-items: center; justify-content: center; gap: 10px; }
    .social-links { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
    .social-link { width: 55px; height: 55px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 1.4rem; text-decoration: none; color: white; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .social-link:hover { transform: translateY(-10px) scale(1.15); }
    .social-link.facebook { background: linear-gradient(135deg, #1877F2, #0d5cbf); }
    .social-link.telegram { background: linear-gradient(135deg, #0088cc, #006699); }
    .social-link.whatsapp { background: linear-gradient(135deg, #25D366, #128C7E); }
    .social-link.channel { background: linear-gradient(135deg, #A66CFF, #7c3aed); }
    .resource-links { display: flex; flex-direction: column; gap: 12px; }
    .resource-link { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 15px 25px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 15px; color: white; text-decoration: none; transition: all 0.3s; font-weight: bold; }
    .resource-link:hover { background: rgba(102, 126, 234, 0.2); border-color: #667eea; transform: translateX(-10px); }
    .resource-link i { font-size: 1.3rem; color: #a78bfa; }
    .developer-info { display: flex; flex-direction: column; align-items: center; gap: 15px; }
    .developer-avatar { width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; font-size: 3rem; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4); animation: avatarFloat 3s ease-in-out infinite; }
    @keyframes avatarFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .developer-name { font-size: 1.2rem; font-weight: bold; color: #a78bfa; }
    .footer-divider { height: 2px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), #667eea, rgba(255,255,255,0.2), transparent); margin: 30px 0; }
    .footer-bottom { text-align: center; padding-top: 20px; }
    .copyright { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; font-size: 1rem; color: rgba(255,255,255,0.8); }
    .copyright-heart { color: #ff6b6b; animation: heartbeat 1.5s infinite; }
    @keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
    .footer-logo { display: flex; align-items: center; gap: 8px; font-weight: bold; color: #a78bfa; }
    .version-badge { background: linear-gradient(135deg, #667eea, #764ba2); padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; margin-top: 15px; display: inline-block; }
    @media (max-width: 768px) { .footer-grid { grid-template-columns: 1fr; gap: 30px; } .footer-content { padding: 60px 15px 20px; } }

    .encouragement-popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: var(--card-bg); padding: 40px 60px; border-radius: 30px; box-shadow: 0 30px 80px rgba(0,0,0,0.3); z-index: 10000; text-align: center; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
    @keyframes popIn { to { transform: translate(-50%, -50%) scale(1); } }
    .encouragement-popup.success { border: 5px solid #4CAF50; }
    .encouragement-popup.fail { border: 5px solid #ff6b6b; }
    .encouragement-popup .emoji { font-size: 5rem; margin-bottom: 15px; animation: bounce 1s infinite; }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-25px); } }
    .confetti { position: fixed; width: 12px; height: 12px; z-index: 9999; pointer-events: none; animation: fall 3s linear forwards; }
    @keyframes fall { 0% { transform: translateY(-100px) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
    .star-burst { position: fixed; font-size: 2.5rem; z-index: 9999; pointer-events: none; animation: starBurst 1.2s ease-out forwards; }
    @keyframes starBurst { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 100% { transform: scale(2.5) rotate(180deg); opacity: 0; } }
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: none; justify-content: center; align-items: center; z-index: 10000; backdrop-filter: blur(5px); }
    .modal-overlay.active { display: flex; }
    .modal-content { background: var(--card-bg); padding: 30px; border-radius: 25px; max-width: 500px; width: 90%; animation: modalIn 0.4s; }
    @keyframes modalIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 15px 35px; border-radius: 50px; z-index: 9999; display: none; }
    
    .word-counter { display: inline-block; background: rgba(102, 126, 234, 0.1); padding: 5px 15px; border-radius: 20px; font-size: 0.9rem; color: #667eea; margin-top: 10px; }

    /* ====== Mobile Specific Fixes ====== */
    @media (max-width: 768px) {
        .card-box {
            padding: 1.5rem; /* Reduce padding on mobile */
        }
        .main-header {
            flex-direction: column;
            gap: 15px;
            text-align: center;
        }
        .nav-container {
            padding: 15px;
            gap: 10px;
        }
        .nav-btn {
            padding: 10px 20px;
            font-size: 0.9rem;
            flex: 1 1 40%;
        }
        .flashcard-container {
            width: 100%;
            height: 400px;
        }
        h1 { font-size: 1.5rem !important; }
        h2 { font-size: 1.3rem !important; }
        
        /* Teacher Dashboard Fixes */
        .dashboard-tabs {
            gap: 5px;
        }
        .tab-btn {
            padding: 10px 15px;
            font-size: 0.9rem;
            min-width: 0;
            flex: 1 1 45%;
        }
    }
  </style>
</head>
<body>

  <header class="main-header">
    <div style="display: flex; align-items: center; gap: 15px; z-index: 1;">
      <i class="fas fa-graduation-cap fa-2x"></i>
      <h2 style="margin:0;">English 5-9</h2>
    </div>
    <div class="header-controls">
      <div class="theme-toggle" onclick="toggleTheme()" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹"></div>
      <div id="userProfile" class="user-profile">
        <div style="text-align: right; line-height: 1.3;">
          <span id="profileName" style="display: block; font-weight: bold;">Ø§Ù„Ø·Ø§Ù„Ø¨</span>
          <span id="profileGrade" style="font-size: 0.8rem; opacity: 0.9;">Ø§Ù„ØµÙ</span>
        </div>
        <button class="logout-btn" onclick="logoutUser()"><i class="fas fa-sign-out-alt"></i></button>
      </div>
    </div>
  </header>

  <nav class="nav-container">
    <button class="nav-btn" onclick="showSection('home')">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button class="nav-btn" onclick="checkAuth('flashcards')">ğŸ“š Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</button>
    <button class="nav-btn" onclick="checkAuth('games')">ğŸ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
    <button class="nav-btn" onclick="showSection('teacher')">ğŸ“Š Ø§Ù„Ù…Ø¹Ù„Ù…</button>
  </nav>

  <section id="home" class="section active">
    <div class="card-box">
      <h1 style="color: #667eea; margin-bottom: 15px; font-size: 2rem;">ğŸ“ Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠ</h1>
      <p style="color: var(--text-secondary); font-size: 1.2rem;">ØªØ¹Ù„Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ù† Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ Ù„Ù„ØªØ§Ø³Ø¹</p>
      <div style="display: flex; justify-content: center; gap: 30px; margin-top: 40px; flex-wrap: wrap;">
        <div onclick="checkAuth('flashcards')" class="game-item" style="min-width: 220px; animation-delay: 0s;">
          <span class="icon">ğŸ“š</span>
          <h3>Ø°Ø§ÙƒØ± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</h3>
        </div>
        <div onclick="checkAuth('games')" class="game-item" style="min-width: 220px; animation-delay: 0.1s;">
          <span class="icon">ğŸ®</span>
          <h3>Ø§Ù„Ø¹Ø¨ ÙˆØªØ¹Ù„Ù…</h3>
        </div>
      </div>
      <div id="student-homework" style="margin-top: 40px; display: none;">
        <h3 style="color: #667eea;">ğŸ“‹ ÙˆØ§Ø¬Ø¨Ø§ØªÙƒ</h3>
        <div id="homework-list"></div>
      </div>
      <div id="student-messages" style="margin-top: 30px; display: none;">
        <h3 style="color: #667eea;">ğŸ’Œ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø¹Ù„Ù…</h3>
        <div id="messages-list"></div>
      </div>
    </div>
  </section>

  <section id="login" class="section">
    <div class="card-box" style="max-width: 500px; margin: 0 auto;">
      <h2 style="color: #667eea; margin-bottom: 25px;">ğŸ‘‹ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
      <input type="text" id="loginName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
      <select id="loginGrade">
        <option value="5">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ (37 ÙƒÙ„Ù…Ø©)</option>
        <option value="6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³ (63 ÙƒÙ„Ù…Ø©)</option>
        <option value="7">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹ (12 ÙƒÙ„Ù…Ø©)</option>
        <option value="8">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù† (53 ÙƒÙ„Ù…Ø©)</option>
        <option value="9">Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ø³Ø¹ (36 ÙƒÙ„Ù…Ø©)</option>
      </select>
      <button class="btn-primary" onclick="login()">ØªØ³Ø¬ÙŠÙ„ ÙˆØ¯Ø®ÙˆÙ„ ğŸš€</button>
    </div>
  </section>

  <section id="flashcards" class="section">
    <div class="card-box">
      <div style="margin-bottom: 20px;">
        <span style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 8px 20px; border-radius: 20px;">
          Ø¨Ø·Ø§Ù‚Ø© <span id="fcCount" style="font-weight: bold;">1</span>
        </span>
        <div class="word-counter" id="totalWords">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: 0</div>
      </div>
      <div class="flashcard-container" onclick="document.querySelector('.flashcard-inner').classList.toggle('flipped')">
        <div class="flashcard-inner">
          <div class="front">
            <div id="fcEmoji" style="font-size: 5rem; margin-bottom: 15px;">ğŸ</div>
            <h2 id="fcEn" style="font-size: 2.5rem; color: #667eea;">Apple</h2>
            <button onclick="event.stopPropagation(); speak()" style="margin-top: 20px; padding: 10px 30px; border-radius: 50px; border: none; background: linear-gradient(135deg, #4ECDC4, #44A08D); color: white; font-weight: bold; cursor: pointer;">ğŸ”Š Ø§Ø³ØªÙ…Ø¹</button>
            <p style="margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">ğŸ‘† Ø§Ø¶ØºØ· Ù„Ù„ØªØ±Ø¬Ù…Ø©</p>
          </div>
          <div class="back">
            <h2 id="fcAr" style="font-size: 2.5rem; margin-bottom: 15px;">ØªÙØ§Ø­Ø©</h2>
            <div class="example-box">
              <div style="font-size: 0.8rem; opacity: 0.8;">ğŸ’¡ Ù…Ø«Ø§Ù„:</div>
              <div id="fcEx" style="font-size: 1.1rem; font-style: italic; direction: ltr;">I eat an apple.</div>
            </div>
          </div>
        </div>
      </div>
      <div style="display: flex; gap: 15px; justify-content: center; max-width: 500px; margin: 0 auto;">
        <button class="btn-primary btn-danger" onclick="prevCard()" style="flex: 1;">â¬…ï¸ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn-primary btn-success" onclick="nextCard()" style="flex: 1;">Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸</button>
      </div>
    </div>
  </section>

  <section id="flashcards-end" class="section">
    <div class="card-box">
      <div style="font-size: 6rem;">ğŸ†</div>
      <h2 style="color: #667eea; font-size: 2rem;">Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!</h2>
      <p style="margin: 15px 0 30px; color: var(--text-secondary);">Ø£ØªÙ…Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª!</p>
      <button class="btn-primary btn-info" onclick="showSection('games')">ğŸ® Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
      <button class="btn-primary" onclick="restartCards()" style="background: linear-gradient(135deg, #FFD93D, #FF9500); color: #333;">ğŸ”„ Ø£Ø¹Ø¯ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</button>
      <button class="btn-primary" onclick="showSection('home')" style="background: linear-gradient(135deg, #6c757d, #495057);">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>
  </section>

  <section id="games" class="section">
    <div class="card-box">
      <h2 style="margin-bottom: 15px; color: #667eea;">ğŸ® Ø³Ø§Ø­Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h2>
      <p style="color: var(--text-secondary);">Ø§Ø®ØªØ± Ù„Ø¹Ø¨Ø© ÙˆØ§Ø¨Ø¯Ø£!</p>
      <div class="games-grid">
        <div class="game-item" onclick="launchGame('Quiz')"><span class="icon">ğŸ“</span><h3>Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯</h3></div>
        <div class="game-item" onclick="launchGame('Typing')"><span class="icon">âŒ¨ï¸</span><h3>Ø§Ù„ÙƒØªØ§Ø¨Ø©</h3></div>
        <div class="game-item" onclick="launchGame('Matching')"><span class="icon">ğŸ¯</span><h3>Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©</h3></div>
        <div class="game-item" onclick="launchGame('Listening')"><span class="icon">ğŸ§</span><h3>Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹</h3></div>
        <div class="game-item" onclick="launchGame('Crossword')"><span class="icon">ğŸ§©</span><h3>Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ø±Ù</h3></div>
        <div class="game-item" onclick="launchGame('Scramble')"><span class="icon">ğŸ”¤</span><h3>ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ø±ÙˆÙ</h3></div>
        <div class="game-item" onclick="launchGame('Memory')"><span class="icon">ğŸƒ</span><h3>Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h3></div>
        <div class="game-item" onclick="launchGame('DragDrop')"><span class="icon">ğŸ‘†</span><h3>Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª</h3></div>
      </div>
    </div>
    <div id="game-active" class="card-box" style="display: none; margin-top: 20px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <h3 id="game-title-display" style="color: #667eea;">Ø§Ù„Ù„Ø¹Ø¨Ø©</h3>
        <button onclick="closeGame()" class="btn-primary btn-danger" style="width: auto; padding: 8px 20px; margin: 0;">âœ–ï¸ Ø®Ø±ÙˆØ¬</button>
      </div>
      <div id="game-board"></div>
    </div>
  </section>

  <section id="teacher" class="section">
    <div id="teacher-login-form" class="card-box" style="max-width: 450px; margin: 0 auto;">
      <h2 style="color: #667eea;">ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…</h2>
      <input type="password" id="tPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <button class="btn-primary" onclick="teacherLogin()">Ø¯Ø®ÙˆÙ„</button>
    </div>
    <div id="teacher-dashboard" style="display: none;">
      <div class="card-box" style="margin-bottom: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
          <h2 style="color: #667eea; margin: 0;">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
          <button onclick="teacherLogout()" class="btn-primary btn-danger" style="width: auto; padding: 8px 20px; margin: 0;">Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>
      <div class="dashboard-tabs">
        <button class="tab-btn active" onclick="showTab('students')">ğŸ‘¥ Ø§Ù„Ø·Ù„Ø§Ø¨</button>
        <button class="tab-btn" onclick="showTab('messages')">ğŸ’Œ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</button>
        <button class="tab-btn" onclick="showTab('homework')">ğŸ“‹ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª</button>
        <button class="tab-btn" onclick="showTab('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
      </div>
      
      <!-- ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø§ÙˆÙŠØ© ØªÙ…Ø±ÙŠØ± -->
      <div id="tab-students" class="tab-content active card-box">
        <h3 style="color: #667eea;">ğŸ“ˆ Ø³Ø¬Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨</h3>
        <div class="table-container">
          <table class="dashboard-table">
            <thead><tr><th>Ø§Ù„Ø·Ø§Ù„Ø¨</th><th>Ø§Ù„ØµÙ</th><th>Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</th><th>Ø§Ù„Ù†Ù‚Ø§Ø·</th><th>Ø§Ù„Ù…Ø³ØªÙˆÙ‰</th><th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
            <tbody id="dash-body"></tbody>
          </table>
        </div>
      </div>

      <div id="tab-messages" class="tab-content card-box">
        <h3 style="color: #667eea;">ğŸ’Œ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</h3>
        <select id="msg-student"><option value="">-- Ø§Ø®ØªØ± Ø·Ø§Ù„Ø¨ --</option></select>
        <textarea id="msg-text" rows="3" placeholder="Ø§Ù„Ø±Ø³Ø§Ù„Ø©..." style="text-align: right;"></textarea>
        <button class="btn-primary btn-success" onclick="sendMessage()">ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„</button>
        <h4 style="margin-top: 30px; color: #667eea;">ğŸ“¨ Ø§Ù„Ù…Ø±Ø³Ù„Ø©:</h4>
        <div id="sent-messages"></div>
      </div>
      <div id="tab-homework" class="tab-content card-box">
        <h3 style="color: #667eea;">ğŸ“‹ ÙˆØ§Ø¬Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
        <select id="hw-grade">
          <option value="5">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
          <option value="6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
          <option value="7">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹</option>
          <option value="8">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†</option>
          <option value="9">Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ø³Ø¹</option>
        </select>
        <input type="text" id="hw-title" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <textarea id="hw-desc" rows="2" placeholder="Ø§Ù„ÙˆØµÙ..." style="text-align: right;"></textarea>
        <input type="date" id="hw-date">
        <button class="btn-primary btn-warning" onclick="addHomework()">â• Ø¥Ø¶Ø§ÙØ©</button>
        <div id="homework-cards" style="margin-top: 20px;"></div>
      </div>
      <div id="tab-settings" class="tab-content card-box">
        <h3 style="color: #667eea;">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
        <button class="btn-primary btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>
      </div>
    </div>
  </section>

  <div class="modal-overlay" id="editModal">
    <div class="modal-content">
      <h3 style="color: #667eea;">âœï¸ ØªØ¹Ø¯ÙŠÙ„</h3>
      <input type="text" id="edit-name" placeholder="Ø§Ù„Ø§Ø³Ù…">
      <select id="edit-grade"><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option></select>
      <div style="display: flex; gap: 10px;">
        <button class="btn-primary btn-success" onclick="saveEdit()" style="flex: 1;">ğŸ’¾ Ø­ÙØ¸</button>
        <button class="btn-primary btn-danger" onclick="closeModal()" style="flex: 1;">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </div>
  </div>

  <footer>
    <div class="footer-wave"></div>
    <div class="footer-stars" id="footerStars"></div>
    <div class="footer-content">
      <div class="footer-grid">
        <div class="footer-section">
          <h3><i class="fas fa-share-alt"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
          <div class="social-links">
            <a href="https://facebook.com/Dreamer231" target="_blank" class="social-link facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://t.me/anwermes" target="_blank" class="social-link telegram"><i class="fab fa-telegram-plane"></i></a>
            <a href="https://wa.me/970599160308" target="_blank" class="social-link whatsapp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://t.me/+afSETaZ232AzMmY0" target="_blank" class="social-link channel"><i class="fas fa-broadcast-tower"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h3><i class="fas fa-book-open"></i> Ù…ÙˆØ§Ø±Ø¯ ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h3>
          <div class="resource-links">
            <a href="https://anwermes.github.io/englishmaster5-9/" target="_blank" class="resource-link"><i class="fas fa-lightbulb"></i><span>Ø­Ù„ÙˆÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ù‚ÙˆØ§Ø¹Ø¯</span></a>
            <a href="https://t.me/+afSETaZ232AzMmY0" target="_blank" class="resource-link"><i class="fas fa-users"></i><span>Ø§Ù„Ù‚Ù†Ø§Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</span></a>
          </div>
        </div>
        <div class="footer-section">
          <h3><i class="fas fa-code"></i> Ø§Ù„Ù…Ø·ÙˆØ±</h3>
          <div class="developer-info">
            <div class="developer-avatar">ğŸ‘¨â€ğŸ«</div>
            <div class="developer-name">Ø§Ù„Ù…Ø¹Ù„Ù… Ø£Ù†ÙˆØ± Ø¹Ø§ÙŠØ´ Ù…Ø³Ù…Ø­</div>
          </div>
        </div>
      </div>
      <div class="footer-divider"></div>
      <div class="footer-bottom">
        <div class="copyright">
          <span class="footer-logo"><i class="fas fa-graduation-cap"></i> English 5-9</span>
          <span>|</span><span>ØµÙÙ†Ø¹ Ø¨Ù€</span><span class="copyright-heart">â¤ï¸</span><span>ÙÙŠ ÙÙ„Ø³Ø·ÙŠÙ† ğŸ‡µğŸ‡¸</span>
        </div>
        <div class="version-badge">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | 2025</div>
      </div>
    </div>
  </footer>

  <div id="toast" class="toast"></div>

  <script>
    // ============ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© ============
    const vocabularyData = {
      // Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ - 37 ÙƒÙ„Ù…Ø©
      5: [
        {en:"Arabic", ar:"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", em:"ğŸ“š", ex:"I study Arabic at school."},
        {en:"Art", ar:"ÙÙ† / Ø±Ø³Ù…", em:"ğŸ¨", ex:"Art class is creative."},
        {en:"Boat", ar:"Ù‚Ø§Ø±Ø¨", em:"â›µ", ex:"The boat sails on the sea."},
        {en:"Building", ar:"Ù…Ø¨Ù†Ù‰", em:"ğŸ¢", ex:"That building is very tall."},
        {en:"Cable car", ar:"ØªÙ„ÙØ±ÙŠÙƒ", em:"ğŸš ", ex:"We rode the cable car up the mountain."},
        {en:"Cinema", ar:"Ø³ÙŠÙ†Ù…Ø§", em:"ğŸ¬", ex:"Let's go to the cinema tonight."},
        {en:"Class", ar:"ØµÙ / Ø­ØµØ©", em:"ğŸ«", ex:"Our class has 30 students."},
        {en:"Cold", ar:"Ø¨Ø§Ø±Ø¯", em:"â„ï¸", ex:"It is very cold in winter."},
        {en:"Email", ar:"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", em:"ğŸ“§", ex:"Send me an email please."},
        {en:"English", ar:"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", em:"ğŸ”¤", ex:"I love learning English."},
        {en:"Famous", ar:"Ù…Ø´Ù‡ÙˆØ±", em:"â­", ex:"He is a famous singer."},
        {en:"Father", ar:"Ø£Ø¨", em:"ğŸ‘¨", ex:"My father works in a bank."},
        {en:"Film", ar:"ÙÙŠÙ„Ù…", em:"ğŸï¸", ex:"This film is very interesting."},
        {en:"Hiking", ar:"Ø§Ù„Ù…Ø´ÙŠ Ø§Ù„Ø¬Ø¨Ù„ÙŠ", em:"ğŸ¥¾", ex:"Hiking is good exercise."},
        {en:"Hopping", ar:"Ø§Ù„Ù‚ÙØ² Ø¹Ù„Ù‰ Ø±Ø¬Ù„ ÙˆØ§Ø­Ø¯Ø©", em:"ğŸ¦˜", ex:"The rabbit is hopping around."},
        {en:"Hot", ar:"Ø­Ø§Ø±", em:"ğŸ”¥", ex:"Summer is very hot here."},
        {en:"Internet", ar:"Ø¥Ù†ØªØ±Ù†Øª", em:"ğŸŒ", ex:"I use the internet for study."},
        {en:"Jumping", ar:"Ø§Ù„Ù‚ÙØ²", em:"ğŸƒ", ex:"Jumping is fun for kids."},
        {en:"Maths", ar:"Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", em:"â—", ex:"Maths is an important subject."},
        {en:"Mother", ar:"Ø£Ù…", em:"ğŸ‘©", ex:"My mother cooks delicious food."},
        {en:"Parents", ar:"Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†", em:"ğŸ‘ª", ex:"My parents love me so much."},
        {en:"PE", ar:"Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©", em:"âš½", ex:"We play football in PE class."},
        {en:"People", ar:"Ù†Ø§Ø³", em:"ğŸ‘¥", ex:"Many people live in this city."},
        {en:"Photo", ar:"ØµÙˆØ±Ø©", em:"ğŸ“·", ex:"Can you take a photo of me?"},
        {en:"Race", ar:"Ø³Ø¨Ø§Ù‚", em:"ğŸ", ex:"I won the race today."},
        {en:"Rainy", ar:"Ù…Ù…Ø·Ø±", em:"ğŸŒ§ï¸", ex:"It is a rainy day."},
        {en:"Running", ar:"Ø§Ù„Ø¬Ø±ÙŠ", em:"ğŸƒâ€â™‚ï¸", ex:"Running keeps you healthy."},
        {en:"Science", ar:"Ø§Ù„Ø¹Ù„ÙˆÙ…", em:"ğŸ”¬", ex:"Science helps us understand nature."},
        {en:"Skipping", ar:"Ù†Ø· Ø§Ù„Ø­Ø¨Ù„", em:"ğŸ¤¸", ex:"Skipping is fun exercise."},
        {en:"Snowy", ar:"Ù…Ø«Ù„Ø¬", em:"â˜ƒï¸", ex:"It is snowy in winter."},
        {en:"Stadium", ar:"Ù…Ù„Ø¹Ø¨ / Ø§Ø³ØªØ§Ø¯", em:"ğŸŸï¸", ex:"The stadium is full of fans."},
        {en:"Swimming", ar:"Ø§Ù„Ø³Ø¨Ø§Ø­Ø©", em:"ğŸŠ", ex:"Swimming is my favorite sport."},
        {en:"Twin", ar:"ØªÙˆØ£Ù…", em:"ğŸ‘¯", ex:"She has a twin sister."},
        {en:"Valley", ar:"ÙˆØ§Ø¯ÙŠ", em:"ğŸï¸", ex:"The valley is green and beautiful."},
        {en:"Wheel", ar:"Ø¹Ø¬Ù„Ø© / Ø¯ÙˆÙ„Ø§Ø¨ Ø§Ù„Ù‡ÙˆØ§Ø¡", em:"ğŸ¡", ex:"The wheel goes round and round."},
        {en:"Windy", ar:"Ø¹Ø§ØµÙ", em:"ğŸŒ¬ï¸", ex:"It is very windy today."},
        {en:"Work", ar:"Ø¹Ù…Ù„", em:"ğŸ’¼", ex:"My father goes to work early."}
      ],
      // Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³
      6: [
        {en:"A little", ar:"Ù‚Ù„ÙŠÙ„", em:"ğŸ¤", ex:"I need a little water."},
        {en:"Accident", ar:"Ø­Ø§Ø¯Ø«", em:"ğŸ’¥", ex:"There was an accident on the road."},
        {en:"Adventure", ar:"Ù…ØºØ§Ù…Ø±Ø©", em:"ğŸ§—", ex:"Camping is a great adventure."},
        {en:"Anyone", ar:"Ø£ÙŠ Ø´Ø®Øµ", em:"ğŸ‘¤", ex:"Is anyone home?"},
        {en:"Argue", ar:"ÙŠØ¬Ø§Ø¯Ù„", em:"ğŸ—£ï¸", ex:"Don't argue with your parents."},
        {en:"Attack", ar:"ÙŠÙ‡Ø§Ø¬Ù…", em:"âš”ï¸", ex:"The lion attacked the deer."},
        {en:"Awful", ar:"ÙØ¸ÙŠØ¹ / Ø³ÙŠØ¡ Ø¬Ø¯Ø§Ù‹", em:"ğŸ˜–", ex:"The weather is awful today."},
        {en:"Bang", ar:"Ø§Ø±ØªØ·Ø§Ù… / ØµÙˆØª Ø®Ø¨Ø·Ø©", em:"ğŸ’£", ex:"I heard a loud bang."},
        {en:"Bottom", ar:"Ø£Ø³ÙÙ„", em:"â¬‡ï¸", ex:"The fish is at the bottom of the sea."},
        {en:"Burger", ar:"Ø¨Ø±Ø¬Ø±", em:"ğŸ”", ex:"I want to eat a burger."},
        {en:"Burst", ar:"ÙŠÙ†ÙØ¬Ø±", em:"ğŸˆ", ex:"The balloon burst suddenly."},
        {en:"Call", ar:"ÙŠØªØµÙ„ / ÙŠÙ†Ø§Ø¯ÙŠ", em:"ğŸ“", ex:"Please call me later."},
        {en:"Chase", ar:"ÙŠØ·Ø§Ø±Ø¯", em:"ğŸƒğŸ’¨", ex:"The cat chased the mouse."},
        {en:"Crash", ar:"ÙŠØªØ­Ø·Ù… / ÙŠØµØ·Ø¯Ù…", em:"ğŸš—", ex:"The cars crashed into each other."},
        {en:"Cry", ar:"ÙŠØ¨ÙƒÙŠ", em:"ğŸ˜¢", ex:"Don't cry, everything will be okay."},
        {en:"Diver", ar:"ØºÙˆØ§Øµ", em:"ğŸ¤¿", ex:"The diver found treasure under water."},
        {en:"Eighteenth", ar:"Ø§Ù„Ø«Ø§Ù…Ù† Ø¹Ø´Ø±", em:"1ï¸âƒ£8ï¸âƒ£", ex:"Today is my eighteenth birthday."},
        {en:"Fall", ar:"ÙŠØ³Ù‚Ø·", em:"ğŸ‚", ex:"Be careful, don't fall!"},
        {en:"Fifteenth", ar:"Ø§Ù„Ø®Ø§Ù…Ø³ Ø¹Ø´Ø±", em:"1ï¸âƒ£5ï¸âƒ£", ex:"It is the fifteenth of March."},
        {en:"Fizzy drink", ar:"Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ", em:"ğŸ¥¤", ex:"Cola is a fizzy drink."},
        {en:"Food pyramid", ar:"Ø§Ù„Ù‡Ø±Ù… Ø§Ù„ØºØ°Ø§Ø¦ÙŠ", em:"ğŸ”º", ex:"The food pyramid shows healthy eating."},
        {en:"Fourteenth", ar:"Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø¹Ø´Ø±", em:"1ï¸âƒ£4ï¸âƒ£", ex:"My birthday is on the fourteenth."},
        {en:"Fried", ar:"Ù…Ù‚Ù„ÙŠ", em:"ğŸŸ", ex:"I like fried chicken."},
        {en:"Funny", ar:"Ù…Ø¶Ø­Ùƒ", em:"ğŸ˜‚", ex:"That joke was very funny."},
        {en:"Give back", ar:"ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø´ÙŠØ¡", em:"ğŸ”„", ex:"Please give back my pen."},
        {en:"Go away", ar:"ÙŠØ°Ù‡Ø¨ Ø¨Ø¹ÙŠØ¯Ø§Ù‹", em:"ğŸ‘‹", ex:"Go away, I'm busy."},
        {en:"Good advice", ar:"Ù†ØµÙŠØ­Ø© Ø¬ÙŠØ¯Ø©", em:"ğŸ’¡", ex:"Listen to good advice."},
        {en:"Invite", ar:"ÙŠØ¯Ø¹Ùˆ", em:"ğŸ“©", ex:"I want to invite you to my party."},
        {en:"Lend", ar:"ÙŠÙ‚Ø±Ø¶ / ÙŠØ¹ÙŠØ±", em:"ğŸ¤", ex:"Can you lend me your book?"},
        {en:"Miss", ar:"ÙŠÙØªÙ‚Ø¯ / ÙŠØ®Ø·Ø¦", em:"ğŸ˜”", ex:"I miss my grandmother."},
        {en:"Mouse", ar:"ÙØ£Ø±", em:"ğŸ­", ex:"The mouse ate the cheese."},
        {en:"Nineteenth", ar:"Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±", em:"1ï¸âƒ£9ï¸âƒ£", ex:"She is nineteen years old."},
        {en:"Noise", ar:"Ø¶Ø¬ÙŠØ¬ / Ø¥Ø²Ø¹Ø§Ø¬", em:"ğŸ“¢", ex:"There is too much noise here."},
        {en:"Other", ar:"Ø¢Ø®Ø±", em:"ğŸ”„", ex:"Give me the other one."},
        {en:"Ox", ar:"Ø«ÙˆØ±", em:"ğŸ‚", ex:"The ox is a strong animal."},
        {en:"Prefer", ar:"ÙŠÙØ¶Ù„", em:"â¤ï¸", ex:"I prefer tea to coffee."},
        {en:"Problem", ar:"Ù…Ø´ÙƒÙ„Ø©", em:"â“", ex:"We need to solve this problem."},
        {en:"Push", ar:"ÙŠØ¯ÙØ¹", em:"ğŸ‘", ex:"Push the door to open it."},
        {en:"Put up", ar:"ÙŠØ«Ø¨ØªØŒ ÙŠÙ†ØµØ¨", em:"ğŸ”¨", ex:"Let's put up the tent."},
        {en:"Quiz", ar:"Ø§Ø®ØªØ¨Ø§Ø± Ù‚ØµÙŠØ±", em:"ğŸ“", ex:"We have a quiz tomorrow."},
        {en:"Safe", ar:"Ø¢Ù…Ù†", em:"ğŸ›¡ï¸", ex:"This place is very safe."},
        {en:"Seventeenth", ar:"Ø§Ù„Ø³Ø§Ø¨Ø¹ Ø¹Ø´Ø±", em:"1ï¸âƒ£7ï¸âƒ£", ex:"It is the seventeenth of April."},
        {en:"Share", ar:"ÙŠØ´Ø§Ø±Ùƒ", em:"ğŸ°", ex:"Let's share this cake."},
        {en:"Should", ar:"ÙŠØ¬Ø¨ / ÙŠÙ†Ø¨ØºÙŠ", em:"âœ…", ex:"You should study hard."},
        {en:"Sixteenth", ar:"Ø§Ù„Ø³Ø§Ø¯Ø³ Ø¹Ø´Ø±", em:"1ï¸âƒ£6ï¸âƒ£", ex:"She turned sixteen yesterday."},
        {en:"Someone", ar:"Ø´Ø®Øµ Ù…Ø§", em:"ğŸ‘¤", ex:"Someone is at the door."},
        {en:"Soup", ar:"Ø­Ø³Ø§Ø¡ / Ø´ÙˆØ±Ø¨Ø©", em:"ğŸ²", ex:"Hot soup is good when sick."},
        {en:"Stairs", ar:"Ø¯Ø±Ø¬ / Ø³Ù„Ø§Ù„Ù…", em:"ğŸªœ", ex:"Go up the stairs."},
        {en:"Still", ar:"Ù„Ø§ ÙŠØ²Ø§Ù„ / Ø³Ø§ÙƒÙ†", em:"ğŸ›‘", ex:"Stand still, don't move."},
        {en:"Summer camp", ar:"Ù…Ø®ÙŠÙ… ØµÙŠÙÙŠ", em:"ğŸ•ï¸", ex:"Summer camp is so fun."},
        {en:"Sweet", ar:"Ø­Ù„ÙˆÙ‰", em:"ğŸ¬", ex:"Don't eat too many sweets."},
        {en:"Thirteenth", ar:"Ø§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´Ø±", em:"1ï¸âƒ£3ï¸âƒ£", ex:"Today is the thirteenth."},
        {en:"Thirtieth", ar:"Ø§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†", em:"3ï¸âƒ£0ï¸âƒ£", ex:"It is the thirtieth of June."},
        {en:"Tired", ar:"Ù…ØªØ¹Ø¨", em:"ğŸ˜«", ex:"I am tired after work."},
        {en:"Together", ar:"Ù…Ø¹Ø§Ù‹", em:"ğŸ‘«", ex:"Let's work together."},
        {en:"Top", ar:"Ù‚Ù…Ø© / Ø£Ø¹Ù„Ù‰", em:"ğŸ”", ex:"We reached the top of the mountain."},
        {en:"Turn over", ar:"ÙŠÙ‚Ù„Ø¨ Ø§Ù„ØµÙØ­Ø©", em:"ğŸ“„", ex:"Turn over the page."},
        {en:"Twentieth", ar:"Ø§Ù„Ø¹Ø´Ø±ÙˆÙ†", em:"2ï¸âƒ£0ï¸âƒ£", ex:"It is the twentieth century."},
        {en:"Twenty-first", ar:"Ø§Ù„Ø­Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†", em:"2ï¸âƒ£1ï¸âƒ£", ex:"Happy twenty-first birthday!"},
        {en:"Understand", ar:"ÙŠÙÙ‡Ù…", em:"ğŸ§ ", ex:"Do you understand the lesson?"},
        {en:"Welcome back", ar:"Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ", em:"ğŸ‘‹", ex:"Welcome back to school!"},
        {en:"While", ar:"Ø¨ÙŠÙ†Ù…Ø§", em:"â³", ex:"I read while I wait."}
      ],
      // Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹
      7: [
        {en:"Always", ar:"Ø¯Ø§Ø¦Ù…Ø§Ù‹", em:"â™¾ï¸", ex:"I always do my homework."},
        {en:"Dear", ar:"Ø¹Ø²ÙŠØ²ÙŠ", em:"ğŸ’Œ", ex:"Dear friend, how are you?"},
        {en:"Email", ar:"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", em:"ğŸ“§", ex:"Check your email please."},
        {en:"Every", ar:"ÙƒÙ„", em:"ğŸ”", ex:"I exercise every day."},
        {en:"Feel", ar:"ÙŠØ´Ø¹Ø±", em:"ğŸ˜Œ", ex:"I feel happy today."},
        {en:"Listen", ar:"Ø§Ø³ØªÙ…Ø¹", em:"ğŸ‘‚", ex:"Listen to your teacher."},
        {en:"Now", ar:"Ø§Ù„Ø¢Ù†", em:"â°", ex:"Do it right now."},
        {en:"Nurse", ar:"Ù…Ù…Ø±Ø¶Ø©", em:"ğŸ‘©â€âš•ï¸", ex:"The nurse helps patients."},
        {en:"Often", ar:"ØºØ§Ù„Ø¨Ø§Ù‹", em:"ğŸ“Š", ex:"I often visit my grandparents."},
        {en:"Smell", ar:"ÙŠØ´Ù… / Ø±Ø§Ø¦Ø­Ø©", em:"ğŸ‘ƒ", ex:"I can smell the flowers."},
        {en:"Sometimes", ar:"Ø£Ø­ÙŠØ§Ù†Ø§Ù‹", em:"ğŸŒ—", ex:"Sometimes I walk to school."},
        {en:"Usually", ar:"Ø¹Ø§Ø¯Ø©Ù‹", em:"ğŸ“…", ex:"I usually wake up at 7 AM."}
      ],
      // Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù†
      8: [
        {en:"Age", ar:"Ø¹Ù…Ø±", em:"ğŸ‚", ex:"What is your age?"},
        {en:"Always", ar:"Ø¯Ø§Ø¦Ù…Ø§Ù‹", em:"â™¾ï¸", ex:"Always be kind to others."},
        {en:"Can", ar:"ÙŠØ³ØªØ·ÙŠØ¹", em:"ğŸ’ª", ex:"I can speak English well."},
        {en:"Channel", ar:"Ù‚Ù†Ø§Ø©", em:"ğŸ“º", ex:"Change the TV channel."},
        {en:"Could", ar:"Ø§Ø³ØªØ·Ø§Ø¹", em:"ğŸ‘Œ", ex:"I could run fast when young."},
        {en:"Culture", ar:"Ø«Ù‚Ø§ÙØ©", em:"ğŸŒ", ex:"Every country has its culture."},
        {en:"Dining room", ar:"ØºØ±ÙØ© Ø§Ù„Ø·Ø¹Ø§Ù…", em:"ğŸ½ï¸", ex:"We eat in the dining room."},
        {en:"Documentary", ar:"ÙÙŠÙ„Ù… ÙˆØ«Ø§Ø¦Ù‚ÙŠ", em:"ğŸ¥", ex:"I watched a documentary about animals."},
        {en:"Dry", ar:"Ø¬Ø§Ù", em:"ğŸŒµ", ex:"The desert is very dry."},
        {en:"Every", ar:"ÙƒÙ„", em:"ğŸ”", ex:"I study every night."},
        {en:"Fact", ar:"Ø­Ù‚ÙŠÙ‚Ø©", em:"âœ”ï¸", ex:"This is a true fact."},
        {en:"Family", ar:"Ø¹Ø§Ø¦Ù„Ø©", em:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§", ex:"I love my family very much."},
        {en:"Feel", ar:"ÙŠØ´Ø¹Ø±", em:"ğŸ˜Œ", ex:"How do you feel today?"},
        {en:"Folk song", ar:"Ø£ØºÙ†ÙŠØ© Ø´Ø¹Ø¨ÙŠØ©", em:"ğŸ¶", ex:"This is an old folk song."},
        {en:"Forecast", ar:"ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø·Ù‚Ø³", em:"ğŸŒ¦ï¸", ex:"Check the weather forecast."},
        {en:"Go online", ar:"ÙŠØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª", em:"ğŸ’»", ex:"I go online to study."},
        {en:"Grandma", ar:"Ø¬Ø¯Ø©", em:"ğŸ‘µ", ex:"My grandma makes great food."},
        {en:"Guitar", ar:"Ø¬ÙŠØªØ§Ø±", em:"ğŸ¸", ex:"He plays the guitar beautifully."},
        {en:"Habit", ar:"Ø¹Ø§Ø¯Ø©", em:"ğŸ”„", ex:"Reading is a good habit."},
        {en:"Hall", ar:"ØµØ§Ù„Ø© / Ø±Ø¯Ù‡Ø©", em:"ğŸ›ï¸", ex:"Wait in the hall please."},
        {en:"Hurricane", ar:"Ø¥Ø¹ØµØ§Ø±", em:"ğŸŒ€", ex:"The hurricane destroyed many houses."},
        {en:"In time", ar:"ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨", em:"âŒ›", ex:"We arrived just in time."},
        {en:"Information", ar:"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", em:"â„¹ï¸", ex:"I need more information."},
        {en:"Instrument", ar:"Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©", em:"ğŸ»", ex:"The violin is a beautiful instrument."},
        {en:"Landline", ar:"Ù‡Ø§ØªÙ Ø£Ø±Ø¶ÙŠ", em:"â˜ï¸", ex:"Call me on the landline."},
        {en:"Listen", ar:"Ø§Ø³ØªÙ…Ø¹", em:"ğŸ‘‚", ex:"Listen carefully to instructions."},
        {en:"Look", ar:"Ø§Ù†Ø¸Ø± / ÙŠØ¨Ø¯Ùˆ", em:"ğŸ‘€", ex:"Look at this beautiful view!"},
        {en:"Mrs", ar:"Ø§Ù„Ø³ÙŠØ¯Ø©", em:"ğŸ‘©", ex:"Mrs Smith is our teacher."},
        {en:"Nationality", ar:"Ø¬Ù†Ø³ÙŠØ©", em:"ğŸš©", ex:"What is your nationality?"},
        {en:"Need", ar:"ÙŠØ­ØªØ§Ø¬", em:"ğŸ¤²", ex:"I need your help please."},
        {en:"Never", ar:"Ø£Ø¨Ø¯Ø§Ù‹", em:"ğŸš«", ex:"Never give up on your dreams."},
        {en:"Now", ar:"Ø§Ù„Ø¢Ù†", em:"âŒš", ex:"Start your work now."},
        {en:"Often", ar:"ØºØ§Ù„Ø¨Ø§Ù‹", em:"ğŸ“ˆ", ex:"I often read books."},
        {en:"On the phone", ar:"Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ", em:"ğŸ“±", ex:"She is on the phone."},
        {en:"Paris", ar:"Ø¨Ø§Ø±ÙŠØ³", em:"ğŸ—¼", ex:"Paris is the capital of France."},
        {en:"Pizza", ar:"Ø¨ÙŠØªØ²Ø§", em:"ğŸ•", ex:"Let's order a pizza for dinner."},
        {en:"Poem", ar:"Ù‚ØµÙŠØ¯Ø©", em:"ğŸ“œ", ex:"She wrote a beautiful poem."},
        {en:"Project", ar:"Ù…Ø´Ø±ÙˆØ¹", em:"ğŸ“Š", ex:"We are working on a project."},
        {en:"Radio", ar:"Ø±Ø§Ø¯ÙŠÙˆ", em:"ğŸ“»", ex:"Listen to the radio."},
        {en:"Routine", ar:"Ø±ÙˆØªÙŠÙ†", em:"ğŸ”", ex:"I have a morning routine."},
        {en:"Serious", ar:"Ø¬Ø§Ø¯ / Ø®Ø·ÙŠØ±", em:"ğŸ˜", ex:"This is a serious matter."},
        {en:"Smell", ar:"Ø±Ø§Ø¦Ø­Ø©", em:"ğŸ‘ƒ", ex:"What is that nice smell?"},
        {en:"Sometimes", ar:"Ø£Ø­ÙŠØ§Ù†Ø§Ù‹", em:"ğŸŒ—", ex:"Sometimes I feel tired."},
        {en:"Sound", ar:"ØµÙˆØª", em:"ğŸ”Š", ex:"I heard a strange sound."},
        {en:"Special", ar:"Ø®Ø§Øµ / Ù…Ù…ÙŠØ²", em:"ğŸŒŸ", ex:"Today is a special day."},
        {en:"Speed", ar:"Ø³Ø±Ø¹Ø©", em:"ğŸš€", ex:"The car was at high speed."},
        {en:"Taste", ar:"Ø·Ø¹Ù…", em:"ğŸ‘…", ex:"This food has a good taste."},
        {en:"Used to", ar:"Ø§Ø¹ØªØ§Ø¯ Ø£Ù†", em:"ğŸ‘´", ex:"I used to play here."},
        {en:"Usually", ar:"Ø¹Ø§Ø¯Ø©Ù‹", em:"ğŸ“…", ex:"I usually sleep early."},
        {en:"Wall", ar:"Ø¬Ø¯Ø§Ø± / Ø­Ø§Ø¦Ø·", em:"ğŸ§±", ex:"Hang the picture on the wall."},
        {en:"Wardrobe", ar:"Ø®Ø²Ø§Ù†Ø© Ù…Ù„Ø§Ø¨Ø³", em:"ğŸšª", ex:"My clothes are in the wardrobe."},
        {en:"Watch", ar:"ÙŠØ´Ø§Ù‡Ø¯", em:"ğŸ‘ï¸", ex:"I watch TV after school."},
        {en:"Wet", ar:"Ù…Ø¨Ù„Ù„ / Ø±Ø·Ø¨", em:"ğŸ’§", ex:"My clothes are wet from rain."}
      ],
      // Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ø³Ø¹
      9: [
        {en:"Airport", ar:"Ù…Ø·Ø§Ø±", em:"âœˆï¸", ex:"We arrived at the airport early."},
        {en:"Attendant", ar:"Ù…Ø¶ÙŠÙ / Ù…Ø±Ø§ÙÙ‚", em:"ğŸ¤µ", ex:"The flight attendant helped us."},
        {en:"Away", ar:"Ø¨Ø¹ÙŠØ¯Ø§Ù‹ØŒ ØºØ§Ø¦Ø¨Ø§Ù‹", em:"ğŸ›«", ex:"He is away on vacation."},
        {en:"Captain", ar:"Ù‚Ø¨Ø·Ø§Ù† / ÙƒØ§Ø¨ØªÙ†", em:"ğŸ‘¨â€âœˆï¸", ex:"The captain flew the plane safely."},
        {en:"Carpet", ar:"Ø³Ø¬Ø§Ø¯Ø©", em:"ğŸ§¶", ex:"The carpet is soft and red."},
        {en:"Community", ar:"Ù…Ø¬ØªÙ…Ø¹", em:"ğŸ¤", ex:"We live in a small community."},
        {en:"Continue", ar:"ÙŠØ³ØªÙ…Ø±ØŒ ÙŠÙˆØ§ØµÙ„", em:"â–¶ï¸", ex:"Please continue your work."},
        {en:"Cooking", ar:"Ø·Ø¨Ø®", em:"ğŸ³", ex:"My mother loves cooking."},
        {en:"Curtain", ar:"Ø³ØªØ§Ø±Ø©", em:"ğŸªŸ", ex:"Close the curtain please."},
        {en:"Damascus Gate", ar:"Ø¨Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙˆØ¯", em:"ğŸ°", ex:"Damascus Gate is in Jerusalem."},
        {en:"Dining room", ar:"ØºØ±ÙØ© Ø§Ù„Ø·Ø¹Ø§Ù…", em:"ğŸ½ï¸", ex:"The dining room is big."},
        {en:"Dry", ar:"Ø¬Ø§ÙØŒ ÙŠØ¬ÙÙ", em:"â˜€ï¸", ex:"Dry your hands with a towel."},
        {en:"Gate", ar:"Ø¨ÙˆØ§Ø¨Ø©", em:"â›©ï¸", ex:"Wait at gate number 5."},
        {en:"Guide", ar:"Ù…Ø±Ø´Ø¯", em:"ğŸ’", ex:"The guide showed us the museum."},
        {en:"Hall", ar:"Ø±Ø¯Ù‡Ø©ØŒ Ù…Ø¯Ø®Ù„", em:"ğŸ ", ex:"Wait in the entrance hall."},
        {en:"In time", ar:"ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨", em:"â°", ex:"We arrived just in time."},
        {en:"Keep out", ar:"Ù…Ù†Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„", em:"â›”", ex:"Keep out! Danger zone."},
        {en:"Land", ar:"ÙŠÙ‡Ø¨Ø·", em:"ğŸ›¬", ex:"The plane will land soon."},
        {en:"Landing card", ar:"Ø¨Ø·Ø§Ù‚Ø© Ù‡Ø¨ÙˆØ·", em:"ğŸ“", ex:"Fill in the landing card."},
        {en:"Local", ar:"Ù…Ø­Ù„ÙŠ", em:"ğŸ˜ï¸", ex:"I buy from the local market."},
        {en:"Mini-bus", ar:"Ø­Ø§ÙÙ„Ø© ØµØºÙŠØ±Ø©", em:"ğŸš", ex:"We took a mini-bus to town."},
        {en:"Museum", ar:"Ù…ØªØ­Ù", em:"ğŸ›ï¸", ex:"We visited the history museum."},
        {en:"Passport", ar:"Ø¬ÙˆØ§Ø² Ø³ÙØ±", em:"ğŸ›‚", ex:"Don't forget your passport."},
        {en:"Put up", ar:"ÙŠØ«Ø¨ØªØŒ ÙŠÙ†ØµØ¨", em:"ğŸ”¨", ex:"Put up the tent carefully."},
        {en:"Relax", ar:"ÙŠØ³ØªØ±Ø®ÙŠØŒ ÙŠØ³ØªØ±ÙŠØ­", em:"ğŸ§˜", ex:"You need to relax after work."},
        {en:"Religious", ar:"Ø¯ÙŠÙ†ÙŠ", em:"ğŸ›", ex:"This is a religious place."},
        {en:"Right now", ar:"Ø§Ù„Ø¢Ù† / ÙÙˆØ±Ø§Ù‹", em:"â—", ex:"Do it right now!"},
        {en:"Schedule", ar:"Ø¬Ø¯ÙˆÙ„ Ù…ÙˆØ§Ø¹ÙŠØ¯", em:"ğŸ—“ï¸", ex:"Check the train schedule."},
        {en:"Site", ar:"Ù…ÙˆÙ‚Ø¹ / Ù…ÙƒØ§Ù†", em:"ğŸ“", ex:"This is a historical site."},
        {en:"Special", ar:"Ø®Ø§ØµØŒ Ù…Ù…ÙŠØ²", em:"âœ¨", ex:"You are very special to me."},
        {en:"Take off", ar:"ÙŠÙ‚Ù„Ø¹ Ù„Ù„Ø·Ø§Ø¦Ø±Ø©", em:"ğŸ›«", ex:"The plane will take off soon."},
        {en:"Through", ar:"Ø¹Ø¨Ø± / Ø®Ù„Ø§Ù„", em:"ğŸš‡", ex:"We walked through the tunnel."},
        {en:"Village", ar:"Ù‚Ø±ÙŠØ©", em:"ğŸ¡", ex:"My grandmother lives in a village."},
        {en:"Wall", ar:"Ø­Ø§Ø¦Ø·ØŒ Ø¬Ø¯Ø§Ø±", em:"ğŸ§±", ex:"The wall is made of stone."},
        {en:"Wardrobe", ar:"Ø®Ø²Ø§Ù†Ø© Ù…Ù„Ø§Ø¨Ø³", em:"ğŸšª", ex:"Open the wardrobe."},
        {en:"Wet", ar:"Ù…Ø¨Ù„Ù„ØŒ ÙŠØ¨Ù„Ù„", em:"ğŸ’¦", ex:"The floor is wet, be careful."}
      ]
    };

    const successPhrases = [{text:"Ø£Ø­Ø³Ù†Øª ÙŠØ§ Ø¨Ø·Ù„!",emoji:"ğŸ†"},{text:"Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹!",emoji:"â­"},{text:"Ù…Ø¨Ù‡Ø±!",emoji:"âœ¨"},{text:"Ù…Ù…ØªØ§Ø²!",emoji:"ğŸ’ª"},{text:"Ø¹Ø¨Ù‚Ø±ÙŠ!",emoji:"ğŸ§ "},{text:"Ø¨Ø±Ø§ÙÙˆ!",emoji:"ğŸ‘"}];
    const failPhrases = [{text:"Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!",emoji:"ğŸ’ª"},{text:"Ù„Ø§ ØªØ³ØªØ³Ù„Ù…!",emoji:"ğŸŒˆ"},{text:"Ø£Ù†Øª Ù‚Ø§Ø¯Ø±!",emoji:"ğŸ’«"}];

    let currentUser = null, currentWords = [], currentIndex = 0, targetSection = 'home';
    let gameScore = 0, gameRound = 0, gameSet = [];
    const TEACHER_PASSWORD = "teacher123";

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¬ÙˆÙ…
    document.addEventListener('DOMContentLoaded', () => {
      const starsContainer = document.getElementById('footerStars');
      for(let i = 0; i < 50; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);
      document.querySelector('.nav-btn').classList.add('active');
    });

    function toggleTheme() {
      const newTheme = document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    }

    function showEncouragement(isSuccess, customText = null) {
      const phrases = isSuccess ? successPhrases : failPhrases;
      const phrase = customText ? {text: customText, emoji: isSuccess ? "ğŸ‰" : "ğŸ’ª"} : phrases[Math.floor(Math.random() * phrases.length)];
      const popup = document.createElement('div');
      popup.className = `encouragement-popup ${isSuccess ? 'success' : 'fail'}`;
      popup.innerHTML = `<div class="emoji">${phrase.emoji}</div><div class="message" style="color:var(--text-primary);">${phrase.text}</div>`;
      document.body.appendChild(popup);
      speakArabic(phrase.text);
      if(isSuccess) { createConfetti(); createStarBurst(); }
      setTimeout(() => popup.remove(), 2000);
    }

    function speakArabic(text) { const u = new SpeechSynthesisUtterance(text); u.lang = 'ar-SA'; speechSynthesis.speak(u); }

    function createConfetti() {
      const colors = ['#ff6b6b','#4ecdc4','#ffe66d','#667eea','#764ba2','#4CAF50'];
      for(let i = 0; i < 50; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = Math.random() * 100 + 'vw';
        c.style.background = colors[Math.floor(Math.random() * colors.length)];
        c.style.animationDelay = Math.random() * 2 + 's';
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 3500);
      }
    }

    function createStarBurst() {
      const stars = ['â­','ğŸŒŸ','âœ¨','ğŸ’«','ğŸ‰'];
      for(let i = 0; i < 15; i++) {
        const s = document.createElement('div');
        s.className = 'star-burst';
        s.textContent = stars[Math.floor(Math.random() * stars.length)];
        s.style.left = (Math.random() * 80 + 10) + 'vw';
        s.style.top = (Math.random() * 80 + 10) + 'vh';
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 1500);
      }
    }

    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      const idx = {home:0,flashcards:1,'flashcards-end':1,games:2,teacher:3,login:-1};
      if(idx[id] >= 0) document.querySelectorAll('.nav-btn')[idx[id]].classList.add('active');
      if(id === 'home' && currentUser) { loadStudentHomework(); loadStudentMessages(); }
    }

    function checkAuth(section) {
      if(currentUser) { if(section === 'flashcards') initFlashcards(); showSection(section); }
      else { targetSection = section; showSection('login'); }
    }

    function login() {
      const name = document.getElementById('loginName').value.trim();
      const grade = document.getElementById('loginGrade').value;
      if(name.split(' ').length < 3) { showToast('Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ'); return; }
      currentUser = {name, grade};
      document.getElementById('userProfile').style.display = 'flex';
      document.getElementById('profileName').textContent = name;
      document.getElementById('profileGrade').textContent = 'Ø§Ù„ØµÙ ' + grade;
      showEncouragement(true, `Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ${name.split(' ')[0]}!`);
      if(targetSection === 'flashcards') { initFlashcards(); showSection('flashcards'); }
      else if(targetSection === 'games') showSection('games');
      else showSection('home');
    }

    function logoutUser() {
      currentUser = null;
      document.getElementById('userProfile').style.display = 'none';
      document.getElementById('loginName').value = '';
      showSection('home');
    }

    function initFlashcards() {
      currentWords = vocabularyData[currentUser.grade] || vocabularyData[5];
      currentIndex = 0;
      document.getElementById('totalWords').textContent = `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${currentWords.length}`;
      updateCard();
    }

    function restartCards() { initFlashcards(); showSection('flashcards'); }

    function updateCard() {
      const w = currentWords[currentIndex];
      document.getElementById('fcCount').textContent = `${currentIndex + 1} / ${currentWords.length}`;
      document.getElementById('fcEmoji').textContent = w.em;
      document.getElementById('fcEn').textContent = w.en;
      document.getElementById('fcAr').textContent = w.ar;
      document.getElementById('fcEx').textContent = w.ex;
      document.querySelector('.flashcard-inner').classList.remove('flipped');
    }

    function nextCard() {
      if(currentIndex < currentWords.length - 1) { currentIndex++; updateCard(); }
      else { showEncouragement(true, "Ø£Ù†Ù‡ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª!"); setTimeout(() => showSection('flashcards-end'), 2500); }
    }
    function prevCard() { if(currentIndex > 0) { currentIndex--; updateCard(); } }
    function speak() { const u = new SpeechSynthesisUtterance(currentWords[currentIndex].en); u.lang = 'en-US'; speechSynthesis.speak(u); }

    function launchGame(game) {
      document.getElementById('games').querySelector('.card-box').style.display = 'none';
      document.getElementById('game-active').style.display = 'block';
      document.getElementById('game-title-display').textContent = 'ğŸ® ' + game;
      currentWords = vocabularyData[currentUser.grade] || vocabularyData[5];
      const board = document.getElementById('game-board');
      board.innerHTML = '';
      switch(game) {
        case 'Quiz': startQuiz(board); break;
        case 'Typing': startTyping(board); break;
        case 'Matching': startMatching(board); break;
        case 'Listening': startListening(board); break;
        case 'Crossword': startCrossword(board); break;
        case 'Scramble': startScramble(board); break;
        case 'Memory': startMemory(board); break;
        case 'DragDrop': startDragDrop(board); break;
      }
    }

    function closeGame() {
      document.getElementById('game-active').style.display = 'none';
      document.getElementById('games').querySelector('.card-box').style.display = 'block';
    }

    function saveAndExit(game, score, total) {
      let res = JSON.parse(localStorage.getItem('gameResults') || '[]');
      res.push({name: currentUser.name, grade: currentUser.grade, game, score, total, date: new Date().toLocaleDateString()});
      localStorage.setItem('gameResults', JSON.stringify(res));
      const pct = (score / total) * 100;
      showEncouragement(pct >= 50, pct > 80 ? "Ø£Ù†Øª Ø¨Ø·Ù„!" : (pct > 50 ? "Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯!" : "Ø­Ø§ÙˆÙ„ Ø£ÙƒØ«Ø±!"));
      setTimeout(closeGame, 3000);
    }

    // Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
    function startQuiz(board) { gameScore = 0; gameRound = 0; gameSet = shuffle(currentWords).slice(0, Math.min(10, currentWords.length)); showQuizQ(board); }
    function showQuizQ(board) {
      if(gameRound >= gameSet.length) { saveAndExit('Quiz', gameScore, gameSet.length); return; }
      const w = gameSet[gameRound];
      const opts = shuffle([w.ar, ...shuffle(currentWords.filter(x => x !== w)).slice(0, 3).map(x => x.ar)]);
      board.innerHTML = `<div style="font-size:4rem;">${w.em}</div><h2 style="color:#667eea;margin:15px 0;">${w.en}</h2><div style="max-width:450px;margin:20px auto;">${opts.map(o => `<button class="option-btn" onclick="checkQuiz(this,'${o.replace(/'/g, "\\'")}','${w.ar.replace(/'/g, "\\'")}')">${o}</button>`).join('')}</div>`;
    }
    function checkQuiz(btn, sel, cor) {
      document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
      if(sel === cor) { btn.classList.add('correct'); gameScore++; showEncouragement(true); }
      else { btn.classList.add('wrong'); showEncouragement(false); }
      setTimeout(() => { gameRound++; showQuizQ(document.getElementById('game-board')); }, 2500);
    }

    function startTyping(board) { gameScore = 0; gameRound = 0; gameSet = shuffle(currentWords.filter(w => !w.en.includes(' '))).slice(0, Math.min(10, currentWords.length)); showTypeQ(board); }
    function showTypeQ(board) {
      if(gameRound >= gameSet.length) { saveAndExit('Typing', gameScore, gameSet.length); return; }
      const w = gameSet[gameRound];
      board.innerHTML = `<div style="font-size:4rem;">${w.em}</div><h2 style="color:#667eea;margin:15px 0;">${w.ar}</h2><input type="text" id="typeIn" placeholder="Ø§ÙƒØªØ¨ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©" style="max-width:350px;"><button class="btn-primary btn-success" onclick="checkType('${w.en}')" style="max-width:350px;">ØªØ­Ù‚Ù‚ âœ“</button>`;
      document.getElementById('typeIn').focus();
    }
    function checkType(cor) {
      if(document.getElementById('typeIn').value.trim().toLowerCase() === cor.toLowerCase()) { gameScore++; showEncouragement(true); }
      else { showEncouragement(false, `Ø§Ù„ØµØ­ÙŠØ­: ${cor}`); }
      setTimeout(() => { gameRound++; showTypeQ(document.getElementById('game-board')); }, 2500);
    }

    let matchSel = null, matchScore = 0;
    function startMatching(board) { gameSet = shuffle(currentWords).slice(0, 4); matchScore = 0; matchSel = null; board.innerHTML = `<div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;"><div>${shuffle(gameSet).map(w => `<button class="option-btn m-btn" data-id="${w.en}" data-type="en" onclick="matchClk(this)">${w.em} ${w.en}</button>`).join('')}</div><div>${shuffle(gameSet).map(w => `<button class="option-btn m-btn" data-id="${w.en}" data-type="ar" onclick="matchClk(this)">${w.ar}</button>`).join('')}</div></div>`; }
    function matchClk(btn) {
      if(btn.classList.contains('correct')) return;
      if(!matchSel) { matchSel = btn; btn.style.borderColor = '#667eea'; return; }
      if(matchSel.dataset.id === btn.dataset.id && matchSel.dataset.type !== btn.dataset.type) { matchSel.classList.add('correct'); btn.classList.add('correct'); matchScore++; showEncouragement(true); matchSel = null; if(matchScore === 4) setTimeout(() => saveAndExit('Matching', 4, 4), 2500); }
      else { matchSel.classList.add('wrong'); btn.classList.add('wrong'); showEncouragement(false); setTimeout(() => { document.querySelectorAll('.m-btn').forEach(b => { b.classList.remove('wrong'); b.style.borderColor = 'var(--border-color)'; }); matchSel = null; }, 1000); }
    }

    function startListening(board) { gameScore = 0; gameRound = 0; gameSet = shuffle(currentWords).slice(0, Math.min(10, currentWords.length)); showListQ(board); }
    function showListQ(board) {
      if(gameRound >= gameSet.length) { saveAndExit('Listening', gameScore, gameSet.length); return; }
      const w = gameSet[gameRound];
      const opts = shuffle([w.en, ...shuffle(currentWords.filter(x => x !== w)).slice(0, 3).map(x => x.en)]);
      board.innerHTML = `<button onclick="speakTxt('${w.en}')" class="btn-primary btn-info" style="width:auto;margin-bottom:25px;padding:15px 40px;">ğŸ”Š Ø§Ø³ØªÙ…Ø¹</button><div style="max-width:450px;margin:0 auto;">${opts.map(o => `<button class="option-btn" onclick="checkList(this,'${o}','${w.en}')">${o}</button>`).join('')}</div>`;
      setTimeout(() => speakTxt(w.en), 500);
    }
    function checkList(btn, sel, cor) { document.querySelectorAll('.option-btn').forEach(b => b.disabled = true); if(sel === cor) { btn.classList.add('correct'); gameScore++; showEncouragement(true); } else { btn.classList.add('wrong'); showEncouragement(false); } setTimeout(() => { gameRound++; showListQ(document.getElementById('game-board')); }, 2500); }

    function startCrossword(board) { gameScore = 0; gameRound = 0; gameSet = shuffle(currentWords.filter(w => !w.en.includes(' '))).slice(0, Math.min(10, currentWords.length)); showCrossQ(board); }
    function showCrossQ(board) {
      if(gameRound >= gameSet.length) { saveAndExit('Crossword', gameScore, gameSet.length); return; }
      const w = gameSet[gameRound]; const idx = Math.floor(Math.random() * w.en.length); const miss = w.en[idx].toLowerCase();
      const disp = w.en.split('').map((c, i) => i === idx ? '_' : c).join(' ');
      let opts = [miss]; while(opts.length < 4) { let c = 'abcdefghijklmnopqrstuvwxyz'[Math.floor(Math.random() * 26)]; if(!opts.includes(c)) opts.push(c); }
      board.innerHTML = `<h2 style="letter-spacing:10px;color:#667eea;margin:20px;">${disp}</h2><p>Ø§Ù„Ù…Ø¹Ù†Ù‰: <strong>${w.ar}</strong> ${w.em}</p><div style="display:flex;justify-content:center;gap:15px;margin-top:20px;">${shuffle(opts).map(c => `<button class="option-btn" style="width:60px;height:60px;font-size:1.5rem;" onclick="checkCross(this,'${c}','${miss}')">${c.toUpperCase()}</button>`).join('')}</div>`;
    }
    function checkCross(btn, sel, cor) { document.querySelectorAll('.option-btn').forEach(b => b.disabled = true); if(sel === cor) { btn.classList.add('correct'); gameScore++; showEncouragement(true); } else { btn.classList.add('wrong'); showEncouragement(false); } setTimeout(() => { gameRound++; showCrossQ(document.getElementById('game-board')); }, 2500); }

    function startScramble(board) { gameScore = 0; gameRound = 0; gameSet = shuffle(currentWords.filter(w => w.en.length < 9 && !w.en.includes(' '))).slice(0, Math.min(10, currentWords.length)); showScramQ(board); }
    function showScramQ(board) {
      if(gameRound >= gameSet.length) { saveAndExit('Scramble', gameScore, gameSet.length); return; }
      const w = gameSet[gameRound];
      board.innerHTML = `<h2 style="color:#667eea;letter-spacing:12px;">${shuffle(w.en.toUpperCase().split('')).join('  ')}</h2><p style="margin:15px 0;">Ø§Ù„Ù…Ø¹Ù†Ù‰: <strong>${w.ar}</strong> ${w.em}</p><input type="text" id="scramIn" placeholder="Ø±ØªØ¨ Ø§Ù„Ø­Ø±ÙˆÙ" style="max-width:350px;"><button class="btn-primary btn-success" onclick="checkScram('${w.en}')" style="max-width:350px;">ØªØ­Ù‚Ù‚ âœ“</button>`;
      document.getElementById('scramIn').focus();
    }
    function checkScram(cor) { if(document.getElementById('scramIn').value.trim().toLowerCase() === cor.toLowerCase()) { gameScore++; showEncouragement(true); } else { showEncouragement(false, `Ø§Ù„ØµØ­ÙŠØ­: ${cor}`); } setTimeout(() => { gameRound++; showScramQ(document.getElementById('game-board')); }, 2500); }

    let memFlip = [], memScore = 0;
    function startMemory(board) { gameSet = shuffle(currentWords).slice(0, 4); let cards = []; gameSet.forEach(w => { cards.push({v: w.en, id: w.en}); cards.push({v: w.em, id: w.en}); }); cards = shuffle(cards); memScore = 0; memFlip = []; board.innerHTML = `<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;max-width:450px;margin:0 auto;">${cards.map((c,i) => `<div class="option-btn" id="mem-${i}" onclick="flipMem(${i},'${c.id}','${c.v}')" style="aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:1.5rem;cursor:pointer;">â“</div>`).join('')}</div>`; }
    function flipMem(i, id, v) { const card = document.getElementById(`mem-${i}`); if(card.classList.contains('correct') || memFlip.length >= 2) return; card.style.background = '#667eea'; card.style.color = 'white'; card.textContent = v; memFlip.push({i, id}); if(memFlip.length === 2) { if(memFlip[0].id === memFlip[1].id) { document.getElementById(`mem-${memFlip[0].i}`).classList.add('correct'); document.getElementById(`mem-${memFlip[1].i}`).classList.add('correct'); memScore++; showEncouragement(true); memFlip = []; if(memScore === 4) setTimeout(() => saveAndExit('Memory', 4, 4), 2500); } else { showEncouragement(false); setTimeout(() => { memFlip.forEach(f => { document.getElementById(`mem-${f.i}`).style.background = ''; document.getElementById(`mem-${f.i}`).style.color = ''; document.getElementById(`mem-${f.i}`).textContent = 'â“'; }); memFlip = []; }, 1200); } } }

    let dragScore = 0;
    function startDragDrop(board) { gameSet = shuffle(currentWords).slice(0, 4); dragScore = 0; board.innerHTML = `<div style="display:grid;grid-template-columns:1fr 1fr;gap:25px;"><div>${shuffle(gameSet).map(w => `<div style="padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border-radius:10px;margin-bottom:10px;cursor:grab;" draggable="true" ondragstart="drag(event)" id="d-${w.en.replace(/\s/g,'_')}">${w.em} ${w.en}</div>`).join('')}</div><div>${shuffle(gameSet).map(w => `<div style="padding:15px;border:3px dashed #ccc;border-radius:10px;min-height:50px;margin-bottom:10px;display:flex;align-items:center;justify-content:center;" ondrop="drop(event)" ondragover="allowDrop(event)" data-id="${w.en.replace(/\s/g,'_')}">${w.ar}</div>`).join('')}</div></div>`; }
    function allowDrop(e) { e.preventDefault(); e.target.style.borderColor = '#667eea'; }
    function drag(e) { e.dataTransfer.setData("text", e.target.id.replace('d-', '')); }
    function drop(e) { e.preventDefault(); e.target.style.borderColor = '#ccc'; const data = e.dataTransfer.getData("text"); if(e.target.dataset.id === data) { e.target.innerHTML = document.getElementById('d-' + data).innerHTML; e.target.style.background = '#4CAF50'; e.target.style.color = 'white'; e.target.style.borderStyle = 'solid'; document.getElementById('d-' + data).remove(); dragScore++; showEncouragement(true); if(dragScore === 4) setTimeout(() => saveAndExit('DragDrop', 4, 4), 2500); } else { showEncouragement(false); } }

    // Ø§Ù„Ù…Ø¹Ù„Ù…
    function teacherLogin() { if(document.getElementById('tPass').value === TEACHER_PASSWORD) { document.getElementById('teacher-login-form').style.display = 'none'; document.getElementById('teacher-dashboard').style.display = 'block'; updateDash(); loadMessages(); loadHomework(); } else showToast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©'); }
    function teacherLogout() { document.getElementById('teacher-dashboard').style.display = 'none'; document.getElementById('teacher-login-form').style.display = 'block'; document.getElementById('tPass').value = ''; }
    function showTab(tab) { document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active')); document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active')); event.target.classList.add('active'); document.getElementById('tab-' + tab).classList.add('active'); }

    function updateDash() {
      const res = JSON.parse(localStorage.getItem('gameResults') || '[]');
      const tbody = document.getElementById('dash-body');
      const msgSelect = document.getElementById('msg-student');
      tbody.innerHTML = ''; msgSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø·Ø§Ù„Ø¨ --</option>';
      let stats = {};
      res.forEach(r => { let k = r.name + r.grade; if(!stats[k]) stats[k] = {name: r.name, grade: r.grade, g: 0, s: 0}; stats[k].g++; stats[k].s += r.score; });
      for(let k in stats) { let s = stats[k]; let badge = s.s > 15 ? '<span style="color:#4CAF50;">ğŸŒŸ Ù…Ø¨Ø¯Ø¹</span>' : (s.s > 8 ? '<span style="color:#ff9800;">ğŸš€ Ù…ØªÙ…ÙŠØ²</span>' : '<span style="color:#f44336;">ğŸŒ± Ù…Ø¨ØªØ¯Ø¦</span>'); tbody.innerHTML += `<tr><td>${s.name}</td><td>${s.grade}</td><td>${s.g}</td><td>${s.s}</td><td>${badge}</td><td><button class="action-btn edit" onclick="editRecord('${s.name}','${s.grade}')">âœï¸</button><button class="action-btn delete" onclick="deleteRecords('${k}')">ğŸ—‘ï¸</button></td></tr>`; msgSelect.innerHTML += `<option value="${s.name}">${s.name}</option>`; }
      if(Object.keys(stats).length === 0) tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;color:var(--text-secondary);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>';
    }

    function editRecord(name, grade) { document.getElementById('edit-name').value = name; document.getElementById('edit-grade').value = grade; document.getElementById('editModal').classList.add('active'); }
    function saveEdit() { const oldName = document.getElementById('edit-name').value; const newGrade = document.getElementById('edit-grade').value; let res = JSON.parse(localStorage.getItem('gameResults') || '[]'); res = res.map(r => { if(r.name === oldName) r.grade = newGrade; return r; }); localStorage.setItem('gameResults', JSON.stringify(res)); closeModal(); updateDash(); showToast('ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„'); }
    function deleteRecords(key) { if(!confirm('Ø­Ø°Ù Ø³Ø¬Ù„Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø·Ø§Ù„Ø¨ØŸ')) return; let res = JSON.parse(localStorage.getItem('gameResults') || '[]'); res = res.filter(r => (r.name + r.grade) !== key); localStorage.setItem('gameResults', JSON.stringify(res)); updateDash(); showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù'); }
    function closeModal() { document.getElementById('editModal').classList.remove('active'); }

    function sendMessage() { const student = document.getElementById('msg-student').value; const text = document.getElementById('msg-text').value.trim(); if(!student || !text) { showToast('Ø§Ø®ØªØ± Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆØ§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø©'); return; } let msgs = JSON.parse(localStorage.getItem('teacherMessages') || '[]'); msgs.push({student, text, date: new Date().toLocaleDateString()}); localStorage.setItem('teacherMessages', JSON.stringify(msgs)); document.getElementById('msg-text').value = ''; loadMessages(); showToast('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„'); }
    function loadMessages() { const msgs = JSON.parse(localStorage.getItem('teacherMessages') || '[]'); document.getElementById('sent-messages').innerHTML = msgs.slice().reverse().map((m, i) => `<div class="message-card"><strong>${m.student}</strong><p>${m.text}</p><small>${m.date}</small><button class="action-btn delete" onclick="deleteMessage(${msgs.length - 1 - i})" style="float:left;">ğŸ—‘ï¸</button></div>`).join('') || '<p style="color:var(--text-secondary);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„</p>'; }
    function deleteMessage(idx) { let msgs = JSON.parse(localStorage.getItem('teacherMessages') || '[]'); msgs.splice(idx, 1); localStorage.setItem('teacherMessages', JSON.stringify(msgs)); loadMessages(); }

    function addHomework() { const grade = document.getElementById('hw-grade').value; const title = document.getElementById('hw-title').value.trim(); const desc = document.getElementById('hw-desc').value.trim(); const date = document.getElementById('hw-date').value; if(!title) { showToast('Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ§Ø¬Ø¨'); return; } let hw = JSON.parse(localStorage.getItem('homework') || '[]'); hw.push({grade, title, desc, date}); localStorage.setItem('homework', JSON.stringify(hw)); document.getElementById('hw-title').value = ''; document.getElementById('hw-desc').value = ''; loadHomework(); showToast('ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©'); }
    function loadHomework() { const hw = JSON.parse(localStorage.getItem('homework') || '[]'); document.getElementById('homework-cards').innerHTML = hw.map((h, i) => `<div class="homework-card"><h4>ğŸ“‹ ${h.title} - Ø§Ù„ØµÙ ${h.grade}</h4><p>${h.desc || ''}</p><small>Ø§Ù„ØªØ³Ù„ÙŠÙ…: ${h.date || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</small><button class="action-btn delete" onclick="deleteHomework(${i})" style="float:left;">ğŸ—‘ï¸</button></div>`).join('') || '<p style="color:var(--text-secondary);">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ§Ø¬Ø¨Ø§Øª</p>'; }
    function deleteHomework(idx) { let hw = JSON.parse(localStorage.getItem('homework') || '[]'); hw.splice(idx, 1); localStorage.setItem('homework', JSON.stringify(hw)); loadHomework(); }

    function loadStudentHomework() { if(!currentUser) return; const hw = JSON.parse(localStorage.getItem('homework') || '[]').filter(h => h.grade === currentUser.grade); const container = document.getElementById('homework-list'); const section = document.getElementById('student-homework'); if(hw.length > 0) { section.style.display = 'block'; container.innerHTML = hw.map(h => `<div class="homework-card"><h4>ğŸ“‹ ${h.title}</h4><p>${h.desc || ''}</p><small>Ø§Ù„ØªØ³Ù„ÙŠÙ…: ${h.date || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</small></div>`).join(''); } else section.style.display = 'none'; }
    function loadStudentMessages() { if(!currentUser) return; const msgs = JSON.parse(localStorage.getItem('teacherMessages') || '[]').filter(m => m.student === currentUser.name); const container = document.getElementById('messages-list'); const section = document.getElementById('student-messages'); if(msgs.length > 0) { section.style.display = 'block'; container.innerHTML = msgs.slice().reverse().map(m => `<div class="message-card"><p>ğŸ’¬ ${m.text}</p><small>${m.date}</small></div>`).join(''); } else section.style.display = 'none'; }

    function clearAllData() { if(!confirm('âš ï¸ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')) return; localStorage.removeItem('gameResults'); localStorage.removeItem('teacherMessages'); localStorage.removeItem('homework'); updateDash(); loadMessages(); loadHomework(); showToast('ØªÙ… Ø§Ù„Ø­Ø°Ù'); }

    function shuffle(arr) { return [...arr].sort(() => Math.random() - 0.5); }
    function speakTxt(txt) { const u = new SpeechSynthesisUtterance(txt); u.lang = 'en-US'; speechSynthesis.speak(u); }
    function showToast(msg) { const t = document.getElementById('toast'); t.textContent = msg; t.style.display = 'block'; setTimeout(() => t.style.display = 'none', 3000); }
  </script>
</body>
</html>